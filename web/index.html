<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FGO Agent - Fate/Grand Order 智能助手</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <!-- 主容器 -->
    <div class="container">
        <!-- 侧边栏 -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1 class="app-title">🎮 FGO Agent</h1>
                <p class="app-subtitle">Fate/Grand Order 智能助手</p>
            </div>
            
            <!-- 用户信息 -->
            <div class="user-section">
                <div class="user-info">
                    <div class="user-avatar">👤</div>
                    <div class="user-details">
                        <div class="user-name" id="username">加载中...</div>
                        <div class="user-id" id="user-id">-</div>
                    </div>
                </div>
            </div>
            
            <!-- 新建会话按钮 -->
            <button class="new-session-btn" id="newSessionBtn">
                <span class="btn-icon">➕</span>
                <span class="btn-text">新建会话</span>
            </button>
            
            <!-- 会话列表 -->
            <div class="session-list">
                <div class="session-list-header">
                    <h3>会话列表</h3>
                    <button class="refresh-btn" id="refreshSessionsBtn" title="刷新">🔄</button>
                </div>
                <div class="sessions" id="sessionsList">
                    <!-- 会话项将通过 JavaScript 动态生成 -->
                </div>
            </div>
            
            <!-- 底部信息 -->
            <div class="sidebar-footer">
                <div class="status-indicator">
                    <span class="status-dot" id="statusDot"></span>
                    <span class="status-text" id="statusText">未连接</span>
                </div>
                <div class="version-info">v1.0.0</div>
            </div>
        </aside>
        
        <!-- 主聊天区域 -->
        <main class="chat-area">
            <!-- 聊天头部 -->
            <header class="chat-header">
                <div class="session-info">
                    <h2 class="session-name" id="currentSessionName">选择或创建会话</h2>
                    <div class="session-meta">
                        <span class="session-id" id="currentSessionId">-</span>
                        <span class="session-created" id="sessionCreated">-</span>
                    </div>
                </div>
                <div class="chat-actions">
                    <button class="action-btn" id="clearHistoryBtn" title="清空历史">
                        <span>🗑️</span>
                    </button>
                    <button class="action-btn" id="exportBtn" title="导出对话">
                        <span>📥</span>
                    </button>
                </div>
            </header>
            
            <!-- 消息区域 -->
            <div class="messages-container" id="messagesContainer">
                <!-- 欢迎界面 -->
                <div class="welcome-screen" id="welcomeScreen">
                    <div class="welcome-icon">🎮</div>
                    <h2 class="welcome-title">欢迎使用 FGO Agent</h2>
                    <p class="welcome-desc">您的专业 Fate/Grand Order 智能助手</p>
                    
                    <div class="feature-grid">
                        <div class="feature-card">
                            <div class="feature-icon">📚</div>
                            <div class="feature-title">知识库查询</div>
                            <div class="feature-desc">从者资料、技能、宝具信息</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">🌐</div>
                            <div class="feature-title">网络搜索</div>
                            <div class="feature-desc">实时活动、攻略信息</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">🤖</div>
                            <div class="feature-title">智能对话</div>
                            <div class="feature-desc">上下文理解、查询优化</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">💾</div>
                            <div class="feature-title">会话记忆</div>
                            <div class="feature-desc">多轮对话、历史记录</div>
                        </div>
                    </div>
                    
                    <div class="quick-start">
                        <p class="quick-start-title">快速开始</p>
                        <div class="example-queries">
                            <button class="example-query">阿尔托莉雅的宝具是什么？</button>
                            <button class="example-query">玛修的技能效果</button>
                            <button class="example-query">最近有什么活动？</button>
                        </div>
                    </div>
                </div>
                
                <!-- 消息列表（动态生成）-->
                <div class="messages" id="messagesList">
                    <!-- 消息将通过 JavaScript 动态生成 -->
                </div>
            </div>
            
            <!-- 输入区域 -->
            <div class="input-area">
                <div class="input-container">
                    <textarea 
                        class="message-input" 
                        id="messageInput" 
                        placeholder="输入消息... (Shift+Enter 换行，Enter 发送)"
                        rows="1"
                    ></textarea>
                    <button class="send-btn" id="sendBtn" disabled>
                        <span class="send-icon">📤</span>
                    </button>
                </div>
                <div class="input-footer">
                    <div class="input-hint">
                        <span class="hint-icon">💡</span>
                        <span class="hint-text">提示：可以询问从者资料、技能宝具、活动信息等</span>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Toast 提示 -->
    <div class="toast" id="toast"></div>
    
    <!-- 加载 JavaScript -->
    <script src="/static/js/app.js"></script>
</body>
</html>

